/* ===================== å…¨å±€è®¾ç½® ===================== */
:root {
    --bg-color: #FFFDF5;
    --primary-green: #B5EAD7;
    --accent-yellow: #FFDAC1;
    --light-yellow-text: #FFF9C4;
    --text-color: #4A4A4A;
    --border-color: #2c2c2c;
    --main-font: "ZCOOL KuaiLe", cursive, sans-serif;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: var(--main-font); background-color: var(--bg-color); color: var(--text-color); overflow-x: hidden; height: 100vh; }
#bgCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

/* ===================== æ³¢æ™®ç§¯æœ¨ ===================== */
.block-style {
    background: #fff; border: 3px solid var(--border-color); border-radius: 12px;
    box-shadow: 5px 5px 0px var(--border-color); transition: 0.2s;
}
.block-style:hover { transform: translate(-3px, -3px); box-shadow: 8px 8px 0px var(--border-color); }

/* ===================== ä¾§è¾¹æ  ===================== */
.sidebar { position: fixed; left: 30px; top: 30px; width: 230px; z-index: 9999 !important; }
.sidebar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
.logo-text { font-size: 1.6rem; font-weight: bold; color: var(--border-color); text-shadow: 2px 2px 0 #fff; }
.nav-btn-exit {
    background: #FF6B6B; color: #fff; border: 3px solid var(--border-color);
    border-radius: 8px; padding: 5px 12px; font-family: inherit; font-weight: bold;
    box-shadow: 4px 4px 0px var(--border-color); cursor: pointer;
}
.nav-btn-exit:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0px var(--border-color); }
.menu-item {
    margin-bottom: 15px; padding: 12px 18px; background: #fff; border: 3px solid var(--border-color);
    border-radius: 10px; box-shadow: 4px 4px 0px var(--border-color); cursor: pointer;
    display: flex; justify-content: space-between; align-items: center; font-weight: bold; font-size: 1.1rem;
}
.grade-7 { background-color: #ffecd2; } .grade-8 { background-color: #fcb69f; } .grade-9 { background-color: #a1c4fd; }
.active-mode { background: var(--accent-yellow) !important; transform: translate(2px, 2px) !important; box-shadow: 1px 1px 0px var(--border-color) !important; }
.submenu { margin-left: 10px; margin-top: 8px; border-left: 3px dashed #ccc; padding-left: 10px; }
.submenu-item { padding: 8px; cursor: pointer; color: #555; border-radius: 5px; transition: 0.2s; }
.submenu-item:hover { background: var(--primary-green); color: #fff; font-weight: bold; border: 2px solid var(--border-color); }

/* ===================== ä¸»é¡µ & æ‰“å­—æœº (ä¿®å¤é”™ä½) ===================== */
.main-content { padding: 20px; height: 100vh; overflow-y: auto; }
.hero-section { height: 40vh; display: flex; justify-content: center; align-items: center; margin-bottom: 20px; }
.typewriter-container {
    padding: 25px 60px; background-color: var(--primary-green);
    border: 3px solid var(--border-color); border-radius: 15px;
    box-shadow: 8px 8px 0px rgba(0,0,0,0.15); display: flex; transform: rotate(-1deg); min-width: 450px;
}
#typewriter-text { font-size: 3rem; color: var(--light-yellow-text); text-shadow: 3px 3px 0px var(--border-color); font-weight: 900; }
.cursor { font-size: 3rem; color: var(--light-yellow-text); text-shadow: 3px 3px 0px var(--border-color); animation: blink 1s infinite; }
@keyframes blink { 0%, 100% {opacity: 1} 50% {opacity: 0} }

/* ä¿®å¤é¦–é¡µä¹¦æ¶å‘ç™«é—®é¢˜ï¼šå¢åŠ é—´è·ï¼Œæ§åˆ¶é«˜åº¦ */
.books-grid { 
    display: flex; flex-wrap: wrap; justify-content: center; gap: 60px; 
    padding: 0 50px 100px; max-width: 1400px; margin: 0 auto; 
}
.book-card-wrapper { 
    display: flex; flex-direction: column; align-items: center; cursor: pointer; 
    width: 180px; transition: 0.3s; 
}
.book-card-wrapper:hover { transform: translateY(-10px); }
.book-cover { 
    width: 100%; aspect-ratio: 2/3; background: #fff; 
    border: 3px solid var(--border-color); border-radius: 8px; 
    box-shadow: 6px 6px 0px var(--border-color); overflow: hidden; 
    display: flex; align-items: center; justify-content: center;
}
.book-cover img { width: 100%; height: 100%; object-fit: cover; }
.book-title { 
    margin-top: -15px; font-weight: bold; background: #fff; padding: 6px 15px; 
    border-radius: 20px; border: 2px solid var(--border-color); 
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1); z-index: 2; 
}
.gray-cover { font-size: 3rem; color: #ccc; background: #eee; }

/* ===================== é˜…è¯»å™¨ (ä¿®å¤è¾“å…¥æ¡†ç„¦ç‚¹) ===================== */
.reader-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-color); z-index: 100; overflow-y: auto; display: none; }
.content-body { margin-left: 260px; padding: 40px; max-width: 1000px; width: calc(100% - 260px); display: flex; flex-direction: column; gap: 40px; align-items: center; padding-bottom: 100px; }

.sheet-card {
    width: 100%; background: #fff; padding: 50px 70px;
    border: 3px solid var(--border-color); border-radius: 8px;
    box-shadow: 8px 8px 0px rgba(0,0,0,0.1);
    background-image: linear-gradient(#f1f1f1 1px, transparent 1px); background-size: 100% 45px; position: relative;
}
.sheet-card::before {
    content: ''; position: absolute; top: -15px; right: 40px; width: 25px; height: 50px;
    background: var(--primary-green); border: 2px solid var(--border-color); border-radius: 12px;
    transform: rotate(15deg); z-index: 1; box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
}
.sheet-title { text-align: center; font-size: 2rem; margin-bottom: 40px; background: #fff; padding: 10px 30px; border: 3px dashed var(--border-color); border-radius: 30px; transform: rotate(-1deg); display: inline-block; }
.question-line { font-size: 1.3rem; line-height: 45px; color: #555; }
.cloze-slot { display: inline-block; min-width: 80px; border-bottom: 2px dashed #888; color: transparent; cursor: pointer; text-align: center; padding: 0 5px; }
.cloze-slot:hover { border-bottom-color: var(--primary-green); background-color: rgba(0,0,0,0.05); }
.cloze-slot.revealed { color: #fff; background: #FF6B6B; border: 2px solid var(--border-color); border-radius: 6px; box-shadow: 3px 3px 0 var(--border-color); padding: 0 10px; animation: pop 0.4s forwards; display: inline-block; }
@keyframes pop { 0% {transform: scale(0.5);opacity:0;} 60% {transform: scale(1.2);} 100% {transform: scale(1);opacity:1;} }

/* ===================== æ€ç»´å¯¼å›¾ ===================== */
.mindmap-body { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #FFFDF5; background-image: radial-gradient(#ddd 1px, transparent 1px); background-size: 20px 20px; z-index: 200; overflow: hidden; cursor: grab; display: none; }
.mindmap-body:active { cursor: grabbing; }
#mindmap-viewport, #mindmap-world { width: 100%; height: 100%; position: absolute; top: 0; left: 0; transform-origin: 0 0; }
#mindmap-lines { position: absolute; top: 0; left: 0; width: 1px; height: 1px; overflow: visible; z-index: 1; pointer-events: none; }
.connection-line { fill: none; stroke: #555; stroke-width: 2px; transition: d 0.3s; }
.mind-node { position: absolute; padding: 10px 20px; background: #fff; border: none; border-radius: 10px; box-shadow: 5px 5px 0 #2c2c2c; font-size: 1rem; cursor: pointer; transform: translate(0, -50%); transition: 0.2s; white-space: nowrap; }
.mind-node:hover { background: var(--primary-green); transform: translate(0, -55%) scale(1.05); z-index: 100; box-shadow: 8px 8px 0 #2c2c2c; }
.mind-node.root-node { background: var(--accent-yellow); font-size: 1.5rem; padding: 18px 36px; border: 2px solid #2c2c2c; }
.zoom-controls { position: fixed; bottom: 30px; right: 30px; display: flex; flex-direction: column; gap: 10px; z-index: 1000; }
.zoom-btn { width: 45px; height: 45px; border-radius: 50%; background: #fff; border: 3px solid #2c2c2c; font-size: 1.5rem; cursor: pointer; box-shadow: 3px 3px 0 rgba(0,0,0,0.2); }

/* ===================== ç»¼åˆè¯•å· (ä¿®å¤è¾“å…¥æ¡†ç‚¹å‡») ===================== */
.test-paper-header { text-align: center; margin-bottom: 50px; border-bottom: 3px double #2c2c2c; padding-bottom: 20px; }
.test-paper-header h1 { font-size: 2.5rem; color: #2c2c2c; margin-bottom: 15px; }
.test-info { font-size: 1.2rem; color: #555; font-weight: bold; }
.test-score-panel { font-size: 2rem; color: #d9534f; margin-top: 15px; font-weight: 900; }
/* ===================== ä¿®å¤ï¼šè¯•å·åŒºåŸŸå­—ä½“ä¼˜åŒ– ===================== */
/* å¼ºåˆ¶è¯•å·å†…å®¹ä½¿ç”¨æ¸…æ™°å­—ä½“ï¼Œä¸å†ç”¨æ‰‹ç»˜å­—ä½“ */
.test-section, .quiz-card {
    font-family: "Microsoft YaHei", "PingFang SC", sans-serif; 
}

.test-q-title, .quiz-question {
    font-size: 1.15rem;
    font-weight: bold;
    line-height: 1.6;
    color: #333;
    margin-bottom: 15px;
}

.test-mc-label, .quiz-option {
    font-family: Arial, "Microsoft YaHei", sans-serif; /* ç¡®ä¿ABCDå­—æ¯æ¸…æ™° */
    font-size: 1rem;
    line-height: 1.5;
}

/* æ ‡é¢˜ä¿æŒæ³¢æ™®é£ï¼Œå†…å®¹å›å½’ä¸¥è‚ƒ */
.section-title {
    font-family: "ZCOOL KuaiLe", cursive; 
}

/* ===================== æ–°å¢ï¼šæ›¼æ³¢æ•´è›Šå¼¹çª— (Mambo Overlay) ===================== */
#mambo-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.85); /* æ·±è‰²èƒŒæ™¯ */
    z-index: 10000; /* æœ€é«˜å±‚çº§ */
    display: none; /* é»˜è®¤éšè— */
    flex-direction: column; align-items: center; justify-content: center;
}

.mambo-content {
    background: #fff;
    padding: 30px;
    border: 5px solid #2c2c2c;
    border-radius: 20px;
    box-shadow: 10px 10px 0 #FF6B6B;
    text-align: center;
    max-width: 500px;
    animation: pop-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.mambo-img {
    width: 200px; height: 200px; 
    object-fit: cover; 
    border: 3px solid #2c2c2c;
    margin-bottom: 20px;
    border-radius: 10px;
}

.mambo-text {
    font-family: "ZCOOL KuaiLe", cursive;
    font-size: 1.8rem;
    color: #2c2c2c;
    margin-bottom: 30px;
}

.mambo-btn-group {
    display: flex; justify-content: center; gap: 30px;
}

.mambo-btn {
    padding: 10px 30px;
    font-size: 1.2rem;
    font-weight: bold;
    border: 3px solid #2c2c2c;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 4px 4px 0 #2c2c2c;
    transition: 0.2s;
    font-family: "ZCOOL KuaiLe", cursive;
}

.btn-yes { background: #B5EAD7; color: #2c2c2c; }
.btn-no { background: #FF6B6B; color: #fff; }

.btn-no:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0 #2c2c2c; }
/* æ³¨æ„ï¼šbtn-yes æ²¡æœ‰ hover æ•ˆæœï¼Œå› ä¸ºå®ƒä¼šæ¶ˆå¤± */
.section-title { font-size: 1.5rem; border-left: 5px solid #FF6B6B; padding-left: 15px; margin-bottom: 10px; }
.test-q-item { margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px dashed #eee; }
.test-q-title { font-size: 1.1rem; font-weight: bold; margin-bottom: 10px; line-height: 1.8; }
.test-mc-label { display: flex; align-items: center; cursor: pointer; padding: 5px; border-radius: 4px; }
.test-mc-label:hover { background: #f0f0f0; }
.test-mc-label input { margin-right: 10px; transform: scale(1.2); }

/* --- å…³é”®ä¿®å¤ï¼šç¡®ä¿è¾“å…¥æ¡†å±‚çº§é«˜ï¼Œå¯ç‚¹å‡» --- */
.test-cloze-input { 
    border: none; border-bottom: 2px solid #2c2c2c; background: #fffdf5; 
    width: 150px; padding: 2px 5px; text-align: center; font-size: 1rem; color: #333;
    position: relative; z-index: 10; font-family: inherit;
}
.test-cloze-input:focus { border-bottom-color: #FF6B6B; outline: none; background: #fff; }

.analysis-box { background: #f8f9fa; border: 1px solid #ddd; padding: 15px; margin-top: 10px; font-size: 0.95rem; color: #555; display: none; line-height: 1.6; }
.correct-answer { color: #28a745; font-weight: bold; margin-left: 10px; }
/* ===================== ğŸš‘ ç´§æ€¥ä¿®å¤ï¼šé€‰æ‹©é¢˜æ ·å¼ & ç­”æ¡ˆéšè— ===================== */

/* 1. ä¿®å¤å¡ç‰‡ï¼šåŠ å›æ³¢æ™®ç§¯æœ¨é£ (ç™½åº•ã€é»‘æ¡†ã€ç¡¬é˜´å½±) */
.quiz-card {
    background-color: #fff !important; /* å¼ºåˆ¶ç™½åº• */
    border: 3px solid #2c2c2c !important; /* å¼ºåˆ¶é»‘æ¡† */
    border-radius: 12px;
    box-shadow: 6px 6px 0px #2c2c2c !important; /* å¼ºåˆ¶é˜´å½± */
    padding: 30px;
    margin-bottom: 35px;
    position: relative;
    width: 100%;
    box-sizing: border-box;
}

/* 2. ä¿®å¤é¢˜ç›®æ–‡å­— */
.quiz-question {
    font-family: "Microsoft YaHei", sans-serif; /* é¢˜ç›®ç”¨é»‘ä½“ï¼Œæ¸…æ™° */
    font-size: 1.2rem;
    font-weight: bold;
    color: #333;
    margin-bottom: 20px;
    line-height: 1.6;
}

/* 3. ä¿®å¤é€‰é¡¹æŒ‰é’®ï¼šæ‚¬æµ®æ•ˆæœ */
.quiz-option {
    background-color: #f9f9f9;
    border: 2px solid #ccc;
    border-radius: 8px;
    padding: 12px 15px;
    margin-bottom: 10px;
    cursor: pointer;
    transition: all 0.1s;
    font-size: 1rem;
    color: #555;
    font-family: Arial, sans-serif; /* é€‰é¡¹å­—æ¯ç”¨æ— è¡¬çº¿ */
}

.quiz-option:hover {
    transform: translate(-2px, -2px);
    box-shadow: 3px 3px 0px rgba(0,0,0,0.1);
    border-color: #2c2c2c;
    color: #000;
    background-color: #fff;
}

/* 4. é€‰ä¸­çŠ¶æ€ï¼šç»¿å¯¹çº¢é”™ */
.quiz-option.correct {
    background-color: #B5EAD7 !important; /* æµ…ç»¿ */
    border-color: #2c2c2c !important;
    color: #000 !important;
    font-weight: bold;
    box-shadow: 2px 2px 0 #2c2c2c;
}

.quiz-option.wrong {
    background-color: #FF6B6B !important; /* æµ…çº¢ */
    border-color: #2c2c2c !important;
    color: #fff !important;
    box-shadow: 2px 2px 0 #2c2c2c;
}

/* 5. ğŸš¨ æ ¸å¿ƒä¿®å¤ï¼šå¼ºåˆ¶éšè—è§£æ */
.quiz-explanation {
    display: none !important; /* é»˜è®¤ç»ä¸æ˜¾ç¤ºï¼ */
    margin-top: 20px;
    padding: 15px;
    background-color: #FFFDF5;
    border: 2px dashed #2c2c2c;
    border-radius: 8px;
    color: #444;
    font-size: 0.95rem;
    line-height: 1.6;
}

/* åªæœ‰åŠ äº† show ç±»åæ‰æ˜¾ç¤º */
.quiz-explanation.show {
    display: block !important;
    animation: slide-down 0.3s ease-out;
}

@keyframes slide-down {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* 6. é‡ç½®æŒ‰é’®å°ç®­å¤´ */
.reset-quiz-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 35px;
    height: 35px;
    border: 2px solid #ccc;
    border-radius: 50%;
    color: #ccc;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    font-size: 1.2rem;
    transition: 0.3s;
}
.reset-quiz-btn:hover {
    border-color: #2c2c2c;
    background-color: #FFDAC1;
    color: #2c2c2c;
    transform: rotate(180deg);
}
/* ===================== æ–°å¢ï¼šæ›¼æ³¢ç—…æ¯’æ¨¡å¼æ ·å¼ ===================== */

/* ç—…æ¯’å®¹å™¨ï¼šè¦†ç›–å…¨å±ï¼Œç¦æ­¢æ»šåŠ¨ï¼Œç¡®ä¿è¡¨æƒ…åŒ…ä¸æ’‘ç ´é¡µé¢ */
#mambo-virus-layer {
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
    z-index: 20000; /* æ¯”æ™®é€šå¼¹çª—æ›´é«˜ */
    pointer-events: none; /* è®©é¼ æ ‡ç‚¹ä¸åˆ° */
    overflow: hidden;
    display: none; /* é»˜è®¤éšè— */
}

/* æ¯ä¸€ä¸ªç–¯ç‹‚å¼¹å‡ºçš„è¡¨æƒ…åŒ… */
.mambo-virus-item {
    position: absolute;
    border: 3px solid #2c2c2c;
    border-radius: 8px;
    box-shadow: 5px 5px 0 rgba(0,0,0,0.5);
    animation: virus-pop 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    object-fit: cover;
    background: #fff; /* é˜²æ­¢é€æ˜å›¾éœ²é¦… */
}

/* å¼¹å‡ºåŠ¨ç”» */
@keyframes virus-pop {
    0% { transform: scale(0) rotate(0deg); opacity: 0; }
    100% { transform: scale(1) rotate(var(--rot)); opacity: 1; }
}
/* ===================== æ–°å¢ï¼šè§†é¢‘æ’­æ”¾å™¨æ ·å¼ ===================== */

/* ç”µè§†æœºå¤–æ¡† */
.video-tv-frame {
    width: 100%;
    max-width: 900px;
    background-color: #333; /* æ·±ç°å¤–å£³ */
    padding: 20px;
    border: 4px solid #2c2c2c;
    border-radius: 20px;
    box-shadow: 10px 10px 0 rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* å±å¹•åŒºåŸŸ */
.video-screen {
    width: 100%;
    aspect-ratio: 16/9;
    background: #000;
    border-radius: 10px;
    overflow: hidden;
    border: 2px solid #555;
    position: relative;
}

/* æ§åˆ¶æ åŒºåŸŸ */
.video-controls {
    background-color: #f0f0f0;
    border-radius: 10px;
    padding: 15px;
    border: 3px solid #2c2c2c;
}

/* è¿›åº¦æ¡ */
.video-progress-box {
    margin-bottom: 15px;
}
#video-seekbar {
    cursor: pointer;
    accent-color: #FF6B6B; /* è¿›åº¦æ¡é¢œè‰² */
    height: 8px;
}

/* æŒ‰é’®è¡Œå¸ƒå±€ */
.video-btn-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 10px;
}

.left-btns {
    display: flex;
    gap: 10px;
}

.right-info {
    display: flex;
    align-items: center;
    gap: 15px;
    font-family: monospace;
    font-size: 1.1rem;
    font-weight: bold;
}

/* æ’­æ”¾å™¨æŒ‰é’®æ ·å¼ */
.v-btn {
    background: #fff;
    border: 2px solid #2c2c2c;
    border-radius: 8px;
    padding: 5px 15px;
    cursor: pointer;
    font-weight: bold;
    box-shadow: 3px 3px 0 #2c2c2c;
    transition: 0.1s;
}
.v-btn:active {
    transform: translate(2px, 2px);
    box-shadow: 1px 1px 0 #2c2c2c;
}
.play-btn {
    background: #B5EAD7;
    min-width: 80px;
}

/* å€é€Ÿä¸‹æ‹‰æ¡† */
#v-speed {
    padding: 5px;
    border: 2px solid #2c2c2c;
    border-radius: 5px;
    font-family: inherit;
    font-weight: bold;
    cursor: pointer;
}
/* ================= ç”¨æˆ·ç™»å½•ç³»ç»Ÿæ ·å¼ ================= */

/* 1. ä¾§è¾¹æ çš„å°å¡ç‰‡ */
.user-card {
    display: flex;
    align-items: center;
    gap: 10px; /* å¤´åƒå’Œæ–‡å­—çš„é—´è· */
    background: #fff;
    padding: 10px;
    border-radius: 10px;
    border: 3px solid #2c2c2c; /* æ³¢æ™®é£é»‘è¾¹æ¡† */
    box-shadow: 4px 4px 0 #2c2c2c; /* ç¡¬é˜´å½± */
    cursor: pointer;
    transition: 0.2s;
}
.user-card:hover {
    transform: translate(-2px, -2px); /* æ‚¬æµ®æ•ˆæœ */
    box-shadow: 6px 6px 0 #2c2c2c;
}

/* å¤´åƒåœ†åœˆ */
.user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid #2c2c2c;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 1.2rem;
}

/* æ˜µç§°æ–‡å­— */
.user-name {
    font-weight: bold;
    font-size: 0.95rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* åå­—å¤ªé•¿æ˜¾ç¤ºçœç•¥å· */
    max-width: 120px;
}

/* é€€å‡ºæŒ‰é’® */
.logout-btn {
    font-size: 0.75rem;
    color: #FF6B6B;
    background: none;
    border: none;
    cursor: pointer;
    text-decoration: underline;
    padding: 0;
}

/* 2. å…¨å±é®ç½©å±‚ (åŠé€æ˜é»‘åº•) */
.auth-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    z-index: 20000; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
    display: flex;
    justify-content: center;
    align-items: center;
}

/* 3. å¼¹çª—ä¸»ä½“ */
.auth-box {
    width: 360px;
    padding: 30px;
    background: #FFFDF5;
    position: relative; /* ä¸ºäº†æ”¾å…³é—­æŒ‰é’® */
    text-align: center;
}
.auth-box h2 {
    margin-bottom: 20px;
    font-size: 1.8rem;
    color: #2c2c2c;
}

/* è¾“å…¥æ¡†ç»„ */
.input-group {
    text-align: left;
    margin-bottom: 15px;
}
.input-group label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
    font-size: 0.9rem;
}
.input-group input {
    width: 100%;
    padding: 10px;
    border: 2px solid #2c2c2c;
    border-radius: 6px;
    font-family: inherit; /* ä¿æŒå¡é€šå­—ä½“ */
    font-size: 1rem;
    box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
}

/* å¼¹çª—æŒ‰é’® */
.auth-btns {
    display: flex;
    gap: 15px;
    margin-top: 25px;
}
.pop-btn {
    flex: 1; /* ä¸¤ä¸ªæŒ‰é’®å¹³åˆ†å®½åº¦ */
    padding: 12px;
    border: 2px solid #2c2c2c;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 3px 3px 0 #2c2c2c;
    transition: 0.1s;
    font-family: inherit;
    font-size: 1rem;
}
.pop-btn:active {
    transform: translate(2px, 2px);
    box-shadow: 1px 1px 0 #2c2c2c;
}
.pop-btn.green { background: #B5EAD7; color: #2c2c2c; }
.pop-btn.yellow { background: #FFDAC1; color: #2c2c2c; }

/* å³ä¸Šè§’å…³é—­æŒ‰é’® */
.close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    background: none;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    color: #999;
}
.close-btn:hover { color: #FF6B6B; }
/* é¡¶éƒ¨åˆ‡æ¢æ ‡ç­¾ */
.auth-tabs {
    display: flex; justify-content: center; gap: 40px;
    margin-bottom: 30px; border-bottom: 2px solid #eee; padding-bottom: 10px;
}
.auth-tabs span { cursor: pointer; font-size: 1.1rem; color: #999; padding-bottom: 5px; }
.auth-tabs .active-tab { color: #2c2c2c; font-weight: 900; border-bottom: 3px solid #FF6B6B; }

/* æ³¢æ™®å°æŒ‰é’® (å‘é€éªŒè¯ç ä¸“ç”¨) */
.pop-btn-small {
    padding: 8px 15px;
    border: 2px solid #2c2c2c;
    border-radius: 6px;
    font-weight: bold;
    font-size: 0.9rem;
    cursor: pointer;
    box-shadow: 3px 3px 0 #2c2c2c;
    transition: 0.2s;
    white-space: nowrap; /* ä¸æ¢è¡Œ */
}
.pop-btn-small:hover {
    transform: translate(-2px, -2px); /* å¾®å¾®æµ®èµ· */
    box-shadow: 5px 5px 0 #2c2c2c; /* é˜´å½±å˜é•¿ */
}
.pop-btn-small:disabled {
    background: #ddd; color: #888; border-color: #999;
    box-shadow: none; transform: none; cursor: not-allowed;
}

/* ä¸‹æ»‘åŠ¨ç”» */
@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}
#reg-code {
    width: 100%;
    /* 8ä½æ•°å­—æ—¶ï¼Œé—´è·ä¸èƒ½å¤ªå¤§ï¼Œ5px-8px æ¯”è¾ƒåˆé€‚ */
    letter-spacing: 5px; 
    /* ç¨å¾®ç¼©å°ä¸€ç‚¹å­—å·ï¼Œç¡®ä¿åœ¨æ‰‹æœºç«¯ä¹Ÿä¸ä¼šæº¢å‡º */
    font-size: 1.1rem; 
    padding: 12px 5px;
    font-family: 'Courier New', Courier, monospace; /* ä½¿ç”¨ç­‰å®½å­—ä½“è®©æ•°å­—å¯¹é½æ›´ç¾è§‚ */
}
/* ================= å¼•åŠ›åœºè™šæ‹Ÿæ‘‡æ† (æ¸…æ–°æ³¢æ™®é£) ================= */
.gravity-pad {
    position: absolute;
    bottom: 30px;
    right: 30px;
    background: rgba(255, 253, 245, 0.9); /* ç±³è‰²åŠé€æ˜èƒŒæ™¯ */
    border: 3px solid #2c2c2c;
    border-radius: 20px;
    padding: 15px;
    box-shadow: 8px 8px 0 rgba(0,0,0,0.2);
    z-index: 1000;
    backdrop-filter: blur(5px);
}

.pad-header {
    text-align: center;
    font-size: 1rem;
    font-weight: bold;
    color: #2c2c2c;
    margin-bottom: 10px;
    background: #2c2c2c;
    color: #fff;
    padding: 5px 10px;
    border-radius: 8px;
}

.d-pad-grid {
    display: grid;
    grid-template-columns: 50px 50px 50px;
    grid-template-rows: 50px 50px 50px;
    gap: 5px;
}

.pad-btn {
    width: 100%;
    height: 100%;
    font-size: 1.2rem;
    background: #FFF; /* çº¯ç™½ç§¯æœ¨ */
    color: #2c2c2c;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0; /* è¦†ç›–é»˜è®¤padding */
    user-select: none; /* é˜²æ­¢é•¿æŒ‰é€‰ä¸­æ–‡å­— */
}

/* æŒ‰ä¸‹æ•ˆæœ */
.pad-btn:active {
    background: #FFDAC1; /* å¥¶é»„è‰²é«˜äº® */
    transform: scale(0.9);
    box-shadow: inset 2px 2px 0 rgba(0,0,0,0.1);
}

.pad-center {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: #B5EAD7; /* æ¸…æ–°ç»¿ */
    text-shadow: 2px 2px 0 #2c2c2c;
}
/* ç™»å½•æˆåŠŸå¼¹çª—åŠ¨ç”» */
@keyframes popIn {
    0% { transform: scale(0); opacity: 0; }
    70% { transform: scale(1.1); } /* ç¨å¾®æ”¾å¤§ä¸€ç‚¹ï¼Œåˆ¶é€ Qå¼¹æ„Ÿ */
    100% { transform: scale(1); opacity: 1; }
}
/* ================= å¼ºåˆ¶åœ†å½¢å¤´åƒ (ç»ˆæç‰ˆ) ================= */
.user-avatar {
    width: 45px !important;
    height: 45px !important;
    min-width: 45px !important;
    min-height: 45px !important;
    flex-shrink: 0 !important; /* æ ¸å¿ƒï¼šç¦æ­¢æŒ¤å‹ */
    
    border-radius: 50% !important;
    border: 2px solid #2c2c2c !important;
    overflow: hidden !important;
    
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin-right: 12px !important;
}

/* è®©é‡Œé¢çš„å›¾ç‰‡ç»å¯¹é“ºæ»¡ */
.user-avatar img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    display: block !important;
}
/* ================= ä¾§è¾¹æ å¸ƒå±€é‡æ„ ================= */
#sidebar {
    display: flex;
    flex-direction: column; /* è®©å†…éƒ¨å…ƒç´ ç«–ç€æ’ */
    padding-bottom: 20px;   /* åº•éƒ¨ç•™ç‚¹ç©ºéš™ */
}

.menu-items {
    flex-grow: 1; /* è®©èœå•å æ®ä¸­é—´æ‰€æœ‰ç©ºä½™ç©ºé—´ï¼ŒæŠŠç”¨æˆ·åŒºé¡¶åˆ°åº•éƒ¨ */
}

/* ================= åº•éƒ¨ç”¨æˆ·å¡ç‰‡ (å¤§å·æ³¢æ™®é£) ================= */
/* è¦†ç›–ä¹‹å‰çš„æ ·å¼ï¼Œä¸å†ç”¨é‚£ç§å°å¡ç‰‡äº† */
#sidebar-user-area {
    width: 100%;
    margin-top: auto; /* æ ¸å¿ƒï¼šè‡ªåŠ¨æ¨åˆ°æœ€ä¸‹é¢ */
}

.user-dock {
    background: #fff;
    border: 3px solid #2c2c2c;
    border-radius: 15px;
    padding: 15px;
    box-shadow: 6px 6px 0 #2c2c2c;
    text-align: center;
    transition: 0.2s;
}

.user-dock:hover {
    transform: translateY(-3px);
    box-shadow: 8px 8px 0 #2c2c2c;
}

/* é¡¶éƒ¨ï¼šå¤´åƒå’Œåå­— */
.dock-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px dashed #eee;
}

.dock-name {
    font-size: 1.2rem;
    font-weight: 900;
    color: #2c2c2c;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 110px;
}

/* åº•éƒ¨ï¼šæ“ä½œæŒ‰é’®è¡Œ */
.dock-actions {
    display: flex;
    gap: 8px;
}

/* ä¸¤ä¸ªå¤§æŒ‰é’® */
.dock-btn {
    flex: 1; /* ä¸¤ä¸ªæŒ‰é’®å¹³åˆ†å®½åº¦ */
    padding: 8px 0;
    border: 2px solid #2c2c2c;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    background: #FFFDF5;
    color: #2c2c2c;
    transition: 0.1s;
    text-align: center;
}

.dock-btn:hover {
    background: #FFDAC1; /* æ‚¬æµ®å˜å¥¶é»„è‰² */
    transform: translate(-1px, -1px);
    box-shadow: 2px 2px 0 #2c2c2c;
}

.dock-btn.logout {
    color: #FF6B6B; /* é€€å‡ºæŒ‰é’®æ–‡å­—çº¢è‰² */
}
/* ================= è¥¿æ¸¸è®°ä¸“å±ç‰¹æ•ˆ (å¤©ç©ºä¹‹åŸç‰ˆ) ================= */

/* 1. é˜…è¯»å™¨æ¿€æ´»è¥¿æ¸¸è®°æ¨¡å¼æ—¶çš„ä¾§è¾¹æ é«˜äº® */
.reader-container.xyj-mode .active-mode {
    background: #E1F5FE !important; /* ææ·¡çš„è“ */
    border-color: #03A9F4 !important; /* äº®è“è¾¹æ¡† */
    color: #0277BD !important;
}

/* 2. ç­”æ¡ˆæ­æ™“æ—¶çš„ç§¯æœ¨å—ç‰¹æ•ˆ (å¤©è“è‰²) */
.reader-container.xyj-mode .cloze-slot.revealed {
    background: #29B6F6 !important; /* é²œè‰³çš„å¤©è“è‰² */
    color: #fff !important;         /* çº¯ç™½æ–‡å­—ï¼Œå¯¹æ¯”å¼ºçƒˆ */
    border: 3px solid #2c2c2c !important; /* ä¿æŒæ³¢æ™®é»‘è¾¹ */
    box-shadow: 4px 4px 0 #0277BD !important; /* æ·±è“é˜´å½±ï¼Œåˆ¶é€ ç«‹ä½“æ„Ÿ */
    transform: rotate(-2deg) scale(1.1); /* ç§¯æœ¨æ­ªæ–œæ•ˆæœ */
    font-family: 'ZCOOL KuaiLe', cursive; /* å¼ºåˆ¶å¿«ä¹ä½“ */
    padding: 2px 8px;
    border-radius: 4px;
    animation: popInBlue 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* 3. ä¸“å±å¼¹è·³åŠ¨ç”» */
@keyframes popInBlue {
    0% { transform: scale(0) rotate(0deg); opacity: 0; }
    80% { transform: scale(1.2) rotate(-5deg); }
    100% { transform: scale(1.1) rotate(-2deg); opacity: 1; }
}
